<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mzansi Thrift - South African Thrift Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.css">
    <style>
        /* ===== ROOT VARIABLES ===== */
        :root {
            --primary: #2c3e50;
            --secondary: #e74c3c;
            --accent: #f39c12;
            --success: #27ae60;
            --warning: #f1c40f;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --text: #333;
            --text-light: #7f8c8d;
            --border: #ddd;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        /* ===== GLOBAL STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: var(--transition);
            text-decoration: none;
        }

        .btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-primary {
            background-color: var(--primary);
        }

        .btn-primary:hover {
            background-color: #1a252f;
        }

        .btn-success {
            background-color: var(--success);
        }

        .btn-success:hover {
            background-color: #219653;
        }

        .btn-warning {
            background-color: var(--warning);
            color: var(--dark);
        }

        .btn-warning:hover {
            background-color: #d4ac0d;
        }

        .btn-danger {
            background-color: var(--danger);
        }

        .btn-danger:hover {
            background-color: #c0392b;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

        .btn-outline:hover {
            background-color: var(--secondary);
            color: white;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 14px;
        }

        .btn-lg {
            padding: 16px 32px;
            font-size: 18px;
        }

        .card {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 24px;
            margin-bottom: 24px;
            transition: var(--transition);
        }

        .card:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .mb-0 {
            margin-bottom: 0;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        /* ===== HEADER STYLES ===== */
        header {
            background-color: var(--primary);
            color: white;
            padding: 16px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 24px;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        .logo img {
            height: 40px;
        }

        .logo span {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
            position: relative;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 8px 12px;
            border-radius: 4px;
        }

        nav ul li a:hover {
            color: var(--secondary);
            background-color: rgba(255, 255, 255, 0.1);
        }

        .user-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .user-dropdown {
            position: relative;
        }

        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            min-width: 200px;
            padding: 12px 0;
            margin-top: 8px;
            display: none;
            z-index: 100;
        }

        .user-dropdown:hover .user-menu,
		.user-menu:hover {
		   display: block;
		}
		
		.user-menu.visible {
		    display: block;
	    }

        .user-menu a {
            display: block;
            padding: 10px 20px;
            color: var(--text);
            text-decoration: none;
            transition: var(--transition);
        }

        .user-menu a:hover {
            background-color: var(--light);
            color: var(--secondary);
        }

        /* ===== PAGE STYLES ===== */
        .page {
            min-height: calc(100vh - 140px);
            padding: 40px 0;
        }

        .page-title {
            font-size: 32px;
            margin-bottom: 24px;
            color: var(--primary);
            position: relative;
            padding-bottom: 12px;
        }

        .page-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
            border-radius: 2px;
        }

        .section-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--primary);
        }

        /* ===== HOME PAGE ===== */
        .hero {
            background: linear-gradient(rgba(44, 62, 80, 0.85), rgba(44, 62, 80, 0.85)),
            url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
            border-radius: var(--radius);
            margin-bottom: 40px;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero p {
            font-size: 20px;
            max-width: 700px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .hero-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin: 40px 0;
        }

        .feature-card {
            background: white;
            border-radius: var(--radius);
            padding: 30px 20px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 48px;
            color: var(--secondary);
            margin-bottom: 16px;
        }

        .feature-title {
            font-size: 20px;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }

        .product-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .product-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background-color: var(--secondary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
        }

        .product-media {
            height: 220px;
            position: relative;
            overflow: hidden;
        }

        .product-image, .product-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image,
        .product-card:hover .product-video {
            transform: scale(1.05);
        }

        .product-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            opacity: 0;
            transition: var(--transition);
            cursor: pointer;
        }

        .product-video-container:hover .product-play-btn {
            opacity: 1;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 18px;
            line-height: 1.4;
        }

        .product-price {
            color: var(--secondary);
            font-weight: bold;
            font-size: 20px;
            margin-bottom: 12px;
        }

        .product-original-price {
            text-decoration: line-through;
            color: var(--text-light);
            font-size: 16px;
            margin-left: 8px;
        }

        .product-seller {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 16px;
        }

        .product-actions {
            display: flex;
            gap: 8px;
        }

        /* ===== AUTH PAGES ===== */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
        }

        .auth-card {
            width: 100%;
            max-width: 480px;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 24px;
            border-radius: var(--radius);
            overflow: hidden;
            background-color: var(--light);
        }

        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 16px;
            background-color: transparent;
            cursor: pointer;
            border: none;
            font-size: 16px;
            font-weight: 600;
            transition: var(--transition);
        }

        .auth-tab.active {
            background-color: var(--secondary);
            color: white;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }

        .form-row {
            display: flex;
            gap: 16px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .seller-toggle {
            text-align: center;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        /* ===== PRODUCTS PAGE ===== */
        .products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .search-box {
            display: flex;
            max-width: 400px;
            flex: 1;
        }

        .search-box input {
            flex: 1;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }

        .search-box button {
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }

        .filter-sidebar {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 24px;
        }

        .filter-group {
            margin-bottom: 24px;
        }

        .filter-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .products-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }

        /* ===== CART PAGE ===== */
        .cart-item {
            display: flex;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border);
            gap: 20px;
        }

        .cart-item-image {
            width: 120px;
            height: 120px;
            border-radius: var(--radius);
            overflow: hidden;
            flex-shrink: 0;
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 18px;
        }

        .cart-item-price {
            color: var(--secondary);
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 8px;
        }

        .cart-item-seller {
            color: var(--text-light);
            font-size: 14px;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
        }

        .quantity-btn {
            width: 36px;
            height: 36px;
            background-color: var(--light);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-input {
            width: 50px;
            height: 36px;
            text-align: center;
            border: none;
            border-left: 1px solid var(--border);
            border-right: 1px solid var(--border);
        }

        .cart-summary {
            background: white;
            padding: 24px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: sticky;
            top: 100px;
        }

        .cart-total {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: right;
            color: var(--primary);
        }

        .cart-empty {
            text-align: center;
            padding: 60px 20px;
        }

        .cart-empty-icon {
            font-size: 80px;
            color: var(--border);
            margin-bottom: 20px;
        }

        /* ===== CHECKOUT PAGE ===== */
        .checkout-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .checkout-section {
            margin-bottom: 30px;
        }

        .checkout-section-title {
            font-size: 20px;
            margin-bottom: 16px;
            color: var(--primary);
            padding-bottom: 8px;
            border-bottom: 2px solid var(--light);
        }

        .payment-methods {
            display: flex;
            margin-bottom: 20px;
            gap: 12px;
        }

        .payment-method {
            flex: 1;
            text-align: center;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .payment-method.active {
            border-color: var(--secondary);
            background-color: rgba(231, 76, 60, 0.05);
        }

        .payment-method-icon {
            font-size: 32px;
            margin-bottom: 8px;
            color: var(--text-light);
        }

        .payment-method.active .payment-method-icon {
            color: var(--secondary);
        }

        .card-input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        /* ===== ORDERS PAGE ===== */
        .order-card {
            margin-bottom: 24px;
            border-left: 4px solid var(--secondary);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .order-info h3 {
            margin-bottom: 8px;
        }

        .order-date {
            color: var(--text-light);
            font-size: 14px;
        }

        .order-status {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .status-shipped {
            background-color: #d1edff;
            color: #004085;
        }

        .status-delivered {
            background-color: #d4edda;
            color: #155724;
        }

        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }

        .order-items {
            margin-top: 16px;
        }

        .order-item {
            display: flex;
            margin-bottom: 16px;
            gap: 16px;
        }

        .order-item-image {
            width: 80px;
            height: 80px;
            border-radius: var(--radius);
            overflow: hidden;
            flex-shrink: 0;
        }

        .order-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .order-item-details {
            flex: 1;
        }

        .order-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        /* ===== PROFILE PAGE ===== */
        .profile-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }

        .profile-sidebar {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: var(--light);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--text-light);
            overflow: hidden;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-name {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .profile-email {
            text-align: center;
            color: var(--text-light);
            margin-bottom: 24px;
        }

        .profile-nav {
            list-style: none;
        }

        .profile-nav li {
            margin-bottom: 8px;
        }

        .profile-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--text);
            text-decoration: none;
            border-radius: var(--radius);
            transition: var(--transition);
        }

        .profile-nav a.active, .profile-nav a:hover {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--secondary);
        }

        .profile-content {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
        }

        .profile-section {
            margin-bottom: 32px;
        }

        .profile-section:last-child {
            margin-bottom: 0;
        }

        /* ===== SELLER DASHBOARD ===== */
        .dashboard-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }

        .dashboard-sidebar {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .dashboard-nav {
            list-style: none;
        }

        .dashboard-nav li {
            margin-bottom: 8px;
        }

        .dashboard-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--text);
            text-decoration: none;
            border-radius: var(--radius);
            transition: var(--transition);
        }

        .dashboard-nav a.active, .dashboard-nav a:hover {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--secondary);
        }

        .dashboard-content {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            text-align: center;
            border-top: 4px solid var(--secondary);
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 14px;
        }

        .stat-change {
            font-size: 14px;
            margin-top: 8px;
        }

        .change-positive {
            color: var(--success);
        }

        .change-negative {
            color: var(--danger);
        }

        .dashboard-section {
            margin-bottom: 32px;
        }

        .dashboard-section:last-child {
            margin-bottom: 0;
        }

        /* ===== PRODUCT UPLOAD ===== */
        .upload-area {
            border: 2px dashed var(--border);
            border-radius: var(--radius);
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 24px;
            transition: var(--transition);
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: var(--secondary);
        }

        .upload-area i {
            font-size: 48px;
            color: var(--text-light);
            margin-bottom: 16px;
        }

        .upload-area p {
            margin-bottom: 16px;
            color: var(--text-light);
        }

        .media-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .media-preview-item {
            position: relative;
            border-radius: var(--radius);
            overflow: hidden;
            height: 150px;
        }

        .media-preview-item img, .media-preview-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .media-preview-remove {
            position: absolute;
            top: 8px;
            right: 8px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            cursor: pointer;
        }

        /* ===== MODALS ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .modal-lg {
            max-width: 900px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--danger);
        }

        /* ===== FOOTER ===== */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 50px 0 20px;
            margin-top: 80px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 18px;
            color: var(--secondary);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 12px;
        }

        .footer-section ul li a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-section ul li a:hover {
            color: var(--secondary);
        }

        .footer-contact li {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .social-links {
            display: flex;
            gap: 16px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .social-links a:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 14px;
        }

        /* ===== LOADING & ALERTS ===== */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--secondary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .alert {
            padding: 16px 20px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert-success {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success);
            border-left: 4px solid var(--success);
        }

        .alert-error {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--danger);
            border-left: 4px solid var(--danger);
        }

        .alert-warning {
            background-color: rgba(241, 196, 15, 0.1);
            color: #b7950b;
            border-left: 4px solid var(--warning);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 1024px) {
            .products-layout {
                grid-template-columns: 1fr;
            }

            .checkout-container {
                grid-template-columns: 1fr;
            }

            .profile-container, .dashboard-container {
                grid-template-columns: 1fr;
            }

            .dashboard-sidebar, .profile-sidebar {
                position: static;
                margin-bottom: 24px;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 16px;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            nav ul li {
                margin: 0 8px 8px;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 18px;
            }

            .form-row {
                flex-direction: column;
            }

            .cart-item {
                flex-direction: column;
            }

            .cart-item-image {
                width: 100%;
                height: 200px;
            }

            .payment-methods {
                flex-direction: column;
            }
        }

        /* ===== DROPZONE CUSTOM STYLES ===== */
        .dropzone {
            border: 2px dashed #0087F7 !important;
            border-radius: var(--radius) !important;
            background: white !important;
            padding: 40px 20px !important;
        }

        .dropzone .dz-message {
            margin: 2em 0 !important;
            font-size: 18px !important;
            color: var(--text-light) !important;
        }

        .dz-preview {
            margin: 16px !important;
        }

        .dz-image {
            border-radius: var(--radius) !important;
        }

        .dz-success-mark, .dz-error-mark {
            display: none !important;
        }
    </style>
</head>
<body>
<!-- Header -->
<header>
    <div class="container header-container">
        <a href="#" class="logo" onclick="showPage('home')">
            <i class="fas fa-recycle"></i>
            Mzansi<span>Thrift</span>
        </a>
        <nav>
            <ul>
                <li><a href="#" onclick="showPage('home')">Home</a></li>
                <li><a href="#" onclick="showPage('products')">Products</a></li>
                <li><a href="#" onclick="showPage('cart')">Cart</a></li>
                <li><a href="#" onclick="showPage('orders')">Orders</a></li>
                <li><a href="#" onclick="showPage('profile')">Profile</a></li>
                <li><a href="#" onclick="showPage('contact')">Contact</a></li>
            </ul>
        </nav>
        <div class="user-actions">
            <div class="cart-icon" onclick="showPage('cart')">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count" id="cartCount">0</span>
            </div>
            <div class="user-dropdown" id="userDropdown">
                <button class="btn btn-outline" id="userMenuBtn">
                    <i class="fas fa-user"></i>

                    <span id="userName"></span>
					<span id="sellerName"></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="user-menu">
                    <a href="#" onclick="showPage('profile')"><i class="fas fa-user-circle"></i> My Profile</a>
                    <a href="#" onclick="showPage('orders')"><i class="fas fa-shopping-bag"></i> My Orders</a>
                    <a href="#" id="sellerDashboardLink" onclick="showPage('seller-dashboard')"><i class="fas fa-store"></i> Seller Dashboard</a>
                    <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
            <button class="btn" id="loginBtn" onclick="showPage('login')">Login</button>
            <button class="btn btn-primary" id="registerBtn" onclick="showPage('login')">Register</button>
            <button class="btn btn-danger hidden" id="logoutBtn" onclick="logout()">Logout</button>
        </div>
    </div>
</header>

<!-- Main Content -->
<main>
    <!-- Home Page -->
    <div id="home" class="page">
        <div class="container">
            <div class="hero">
                <h1>Discover Unique Treasures at Mzansi Thrift</h1>
                <p>South Africa's premier online thrift store for pre-loved fashion, furniture, electronics and more. Sustainable shopping with a local touch.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-lg" onclick="showPage('products')">
                        <i class="fas fa-shopping-bag"></i> Shop Now
                    </button>
                    <button class="btn btn-outline btn-lg" onclick="showSellerModal()">
                        <i class="fas fa-store"></i> Become a Seller
                    </button>
                </div>
            </div>

            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <h3 class="feature-title">Nationwide Delivery</h3>
                    <p>Fast and reliable shipping across all 9 provinces of South Africa</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="feature-title">Secure Payments</h3>
                    <p>Pay with confidence using our secure payment system</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-recycle"></i>
                    </div>
                    <h3 class="feature-title">Eco-Friendly</h3>
                    <p>Reduce waste by giving pre-loved items a new home</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-hand-holding-heart"></i>
                    </div>
                    <h3 class="feature-title">Support Local</h3>
                    <p>Empower South African sellers and small businesses</p>
                </div>
            </div>

            <div class="featured-products">
                <h2 class="section-title">Featured Products</h2>
                <div class="products-grid" id="featuredProducts">
                    <!-- Featured products will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Buyer Login/Register Page -->
    <div id="login" class="page hidden">
        <div class="container auth-container">
            <div class="card auth-card">
                <div class="auth-tabs">
                    <button class="auth-tab active" id="loginTab" onclick="switchAuthTab('login')">Login</button>
                    <button class="auth-tab" id="registerTab" onclick="switchAuthTab('register')">Register</button>
                </div>

                <div id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" class="form-control" placeholder=" jonedoe@example">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" class="form-control" placeholder="*********">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="userType" checked> Login as Buyer
                        </label>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="login()">Login</button>
                </div>

                <div id="registerForm" class="hidden">
                    <div class="form-group">
                        <label for="registerName">Full Name</label>
                        <input type="text" id="registerName" class="form-control" placeholder="Jone Doe">
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email</label>
                        <input type="email" id="registerEmail" class="form-control" placeholder="jonedoe@example">
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password</label>
                        <input type="password" id="registerPassword" class="form-control" placeholder="********">
                    </div>
                    <div class="form-group">
                        <label for="registerConfirmPassword">Confirm Password</label>
                        <input type="password" id="registerConfirmPassword" class="form-control" placeholder="Confirm your password">
                    </div>
                    <div class="form-group">
                        <label for="registerPhone">Phone Number</label>
                        <input type="text" id="registerPhone" class="form-control" placeholder="0000000000">
                    </div>
                    <button class="btn btn-primary btn-block" type="button" onclick="register()">Register</button>
                </div>

                <div class="seller-toggle">
                    <p>Are you a seller? <a href="#" onclick="showSellerModal()">Click here to register/login as a seller</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Products Page -->
    <div id="products" class="page hidden">
        <div class="container">
            <div class="products-header">
                <h2 class="page-title">All Products</h2>
                <div class="search-box">
                    <input type="text" id="searchInput" class="form-control" placeholder="Search products...">
                    <button class="btn" onclick="searchProducts()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>

            <div class="products-layout">
                <div class="filter-sidebar">
                    <div class="filter-group">
                        <h4 class="filter-title">Categories</h4>
                        <div class="filter-options" id="categoryFilters">
                            <!-- Categories will be loaded here -->
                        </div>
                    </div>
                    <div class="filter-group">
                        <h4 class="filter-title">Price Range</h4>
                        <div class="filter-options">
                            <div class="filter-option">
                                <input type="radio" id="priceAll" name="price" value="all" checked>
                                <label for="priceAll">All Prices</label>
                            </div>
                            <div class="filter-option">
                                <input type="radio" id="price1" name="price" value="0-100">
                                <label for="price1">R0 - R100</label>
                            </div>
                            <div class="filter-option">
                                <input type="radio" id="price2" name="price" value="100-500">
                                <label for="price2">R100 - R500</label>
                            </div>
                            <div class="filter-option">
                                <input type="radio" id="price3" name="price" value="500-1000">
                                <label for="price3">R500 - R1000</label>
                            </div>
                            <div class="filter-option">
                                <input type="radio" id="price4" name="price" value="1000+">
                                <label for="price4">R1000+</label>
                            </div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <h4 class="filter-title">Condition</h4>
                        <div class="filter-options">
                            <div class="filter-option">
                                <input type="checkbox" id="conditionExcellent" value="excellent">
                                <label for="conditionExcellent">Excellent</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="conditionGood" value="good">
                                <label for="conditionGood">Good</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="conditionFair" value="fair">
                                <label for="conditionFair">Fair</label>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="applyFilters()">Apply Filters</button>
                </div>

                <div class="products-content">
                    <div class="products-grid" id="allProducts">
                        <!-- All products will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Page -->
    <div id="cart" class="page hidden">
        <div class="container">
            <h2 class="page-title">Your Shopping Cart</h2>

            <div class="cart-content">
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be loaded here -->
                </div>

                <div class="cart-summary">
                    <div class="cart-total">
                        Total: R<span id="cartTotal">0.00</span>
                    </div>
                    <div class="cart-actions">
                        <button class="btn btn-primary btn-block" onclick="showPage('checkout')">Proceed to Checkout</button>
                        <button class="btn btn-outline btn-block" onclick="clearCart()">Clear Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Page -->
    <div id="checkout" class="page hidden">
        <div class="container">
            <h2 class="page-title">Checkout</h2>

            <div class="checkout-container">
                <div class="checkout-form">
                    <div class="card">
                        <h3 class="checkout-section-title">Shipping Information</h3>
                        <div class="form-group">
                            <label for="shippingName">Full Name</label>
                            <input type="text" id="shippingName" class="form-control"  placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="shippingAddress">Address</label>
                            <input type="text" id="shippingAddress" class="form-control" placeholder="123 Main St">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="shippingCity">City</label>
                                <input type="text" id="shippingCity" class="form-control" placeholder="Johannesburg">
                            </div>
                            <div class="form-group">
                                <label for="shippingProvince">Province</label>
                                <select id="shippingProvince" class="form-control">
                                    <option value="Gauteng" selected>Gauteng</option>
                                    <option value="Western Cape">Western Cape</option>
                                    <option value="KwaZulu-Natal">KwaZulu-Natal</option>
                                    <option value="Eastern Cape">Eastern Cape</option>
                                    <option value="Free State">Free State</option>
                                    <option value="Limpopo">Limpopo</option>
                                    <option value="Mpumalanga">Mpumalanga</option>
                                    <option value="North West">North West</option>
                                    <option value="Northern Cape">Northern Cape</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="shippingPostalCode">Postal Code</label>
                                <input type="text" id="shippingPostalCode" class="form-control" value="2000">
                            </div>
                            <div class="form-group">
                                <label for="shippingPhone">Phone</label>
                                <input type="text" id="shippingPhone" class="form-control" value="+27 12 345 6789">
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="checkout-section-title">Payment Method</h3>
                        <div class="payment-methods">
                            <div class="payment-method active" data-method="credit">
                                <div class="payment-method-icon">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <div>Credit Card</div>
                            </div>
                            <div class="payment-method" data-method="debit">
                                <div class="payment-method-icon">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <div>Debit Card</div>
                            </div>
                            <div class="payment-method" data-method="eft">
                                <div class="payment-method-icon">
                                    <i class="fas fa-university"></i>
                                </div>
                                <div>EFT</div>
                            </div>
                        </div>

                        <div id="creditCardForm">
                            <div class="form-group">
                                <label for="cardNumber">Card Number</label>
                                <input type="text" id="cardNumber" class="form-control" placeholder="1234 5678 9012 3456">
                            </div>
                            <div class="form-group">
                                <label for="cardName">Name on Card</label>
                                <input type="text" id="cardName" class="form-control" placeholder="John Doe">
                            </div>
                            <div class="card-input-group">
                                <div class="form-group">
                                    <label for="cardExpiry">Expiry Date</label>
                                    <input type="text" id="cardExpiry" class="form-control" placeholder="MM/YY">
                                </div>
                                <div class="form-group">
                                    <label for="cardCVC">CVC</label>
                                    <input type="text" id="cardCVC" class="form-control" placeholder="123">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="order-summary">
                    <div class="card">
                        <h3 class="checkout-section-title">Order Summary</h3>
                        <div id="checkoutItems">
                            <!-- Checkout items will be loaded here -->
                        </div>
                        <div class="checkout-totals">
                            <div class="checkout-line">
                                <span>Subtotal</span>
                                <span>R<span id="checkoutSubtotal">0.00</span></span>
                            </div>
                            <div class="checkout-line">
                                <span>Shipping</span>
                                <span>R<span id="checkoutShipping">0.00</span></span>
                            </div>
                            <div class="checkout-line checkout-total">
                                <span>Total</span>
                                <span>R<span id="checkoutTotal">0.00</span></span>
                            </div>
                        </div>
                        <button class="btn btn-success btn-block btn-lg" onclick="processPayment()">
                            <i class="fas fa-lock"></i> Place Order
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Orders Page -->
    <div id="orders" class="page hidden">
        <div class="container">
            <h2 class="page-title">Your Orders</h2>

            <div class="orders-list" id="ordersList">
                <!-- Orders will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile" class="page hidden">
        <div class="container">
            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-name" id="profileUserName">Guest User</div>
                    <div class="profile-email" id="profileUserEmail">guest@example.com</div>
                    <ul class="profile-nav">
                        <li><a href="#" class="active" onclick="switchProfileTab('personal')">
                            <i class="fas fa-user"></i> Personal Info
                        </a></li>
                        <li><a href="#" onclick="switchProfileTab('address')">
                            <i class="fas fa-map-marker-alt"></i> Address
                        </a></li>
                        <li><a href="#" onclick="switchProfileTab('payment')">
                            <i class="fas fa-credit-card"></i> Payment Methods
                        </a></li>
                        <li><a href="#" onclick="switchProfileTab('orders')">
                            <i class="fas fa-shopping-bag"></i> Order History
                        </a></li>
                        <li><a href="#" onclick="switchProfileTab('security')">
                            <i class="fas fa-shield-alt"></i> Security
                        </a></li>
                    </ul>
                </div>

                <div class="profile-content">
                    <div class="profile-section" id="personalInfoTab">
                        <h3 class="section-title">Personal Information</h3>
                        <div class="form-group">
                            <label for="profileName">Full Name</label>
                            <input type="text" id="profileName" class="form-control" value="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="profileEmail">Email</label>
                            <input type="email" id="profileEmail" class="form-control" value="john.doe@example.com">
                        </div>
                        <div class="form-group">
                            <label for="profilePhone">Phone</label>
                            <input type="text" id="profilePhone" class="form-control" value="+27 12 345 6789">
                        </div>
                        <button class="btn btn-primary" onclick="updateProfile()">Update Profile</button>
						<button class="btn btn-primary" onclick="deleteProfile()">Delete Profile</button>
                    </div>

                    <div class="profile-section hidden" id="addressTab">
                        <h3 class="section-title">Address Information</h3>
                        <div class="form-group">
                            <label for="profileAddress">Address</label>
                            <input type="text" id="profileAddress" class="form-control" value="123 Main St">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileCity">City</label>
                                <input type="text" id="profileCity" class="form-control" value="Johannesburg">
                            </div>
                            <div class="form-group">
                                <label for="profileProvince">Province</label>
                                <select id="profileProvince" class="form-control">
                                    <option value="Gauteng" selected>Gauteng</option>
                                    <option value="Western Cape">Western Cape</option>
                                    <option value="KwaZulu-Natal">KwaZulu-Natal</option>
                                    <option value="Eastern Cape">Eastern Cape</option>
                                    <option value="Free State">Free State</option>
                                    <option value="Limpopo">Limpopo</option>
                                    <option value="Mpumalanga">Mpumalanga</option>
                                    <option value="North West">North West</option>
                                    <option value="Northern Cape">Northern Cape</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="profilePostalCode">Postal Code</label>
                            <input type="text" id="profilePostalCode" class="form-control" value="2000">
                        </div>
                        <button class="btn btn-primary" onclick="updateAddress()">Update Address</button>
                    </div>

                    <div class="profile-section hidden" id="paymentTab">
                        <h3 class="section-title">Payment Methods</h3>
                        <p>No payment methods saved yet.</p>
                        <button class="btn btn-primary" onclick="showPage('checkout')">Add Payment Method</button>
                    </div>

                    <div class="profile-section hidden" id="ordersTab">
                        <h3 class="section-title">Recent Orders</h3>
                        <div id="profileOrders">
                            <!-- Recent orders will be loaded here -->
                        </div>
                    </div>

                    <div class="profile-section hidden" id="securityTab">
                        <h3 class="section-title">Security Settings</h3>
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label>
                            <input type="password" id="currentPassword" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm New Password</label>
                            <input type="password" id="confirmPassword" class="form-control">
                        </div>
                        <button class="btn btn-primary" onclick="changePassword()">Change Password</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page hidden">
        <div class="container">
            <h2 class="page-title">Contact Us</h2>

            <div class="card">
                <div class="contact-content">
                    <div class="contact-info">
                        <h3>Get in Touch</h3>
                        <p>Have questions about our products or services? We're here to help!</p>

                        <div class="contact-details">
                            <p><i class="fas fa-map-marker-alt"></i> 123 Thrift Street, Johannesburg, Gauteng 2000</p>
                            <p><i class="fas fa-phone"></i> +27 (0) 11 123 4567</p>
                            <p><i class="fas fa-envelope"></i> support@mzansithrift.co.za</p>
                            <p><i class="fas fa-clock"></i> Mon-Fri: 8:00-17:00 | Sat: 9:00-13:00</p>
                        </div>
                    </div>

                    <div class="contact-form">
                        <h3>Send us a Message</h3>
                        <div class="form-group">
                            <label for="contactName">Your Name</label>
                            <input type="text" id="contactName" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Your Email</label>
                            <input type="email" id="contactEmail" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="contactSubject">Subject</label>
                            <input type="text" id="contactSubject" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="contactMessage">Message</label>
                            <textarea id="contactMessage" class="form-control" rows="5"></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="sendMessage()">Send Message</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Seller Dashboard -->
    <div id="seller-dashboard" class="page hidden">
        <div class="container">
            <h2 class="page-title">Seller Dashboard</h2>

            <div class="dashboard-container">
                <div class="dashboard-sidebar">
                    <ul class="dashboard-nav">
                        <li><a href="#" class="active" onclick="switchDashboardTab('overview')">
                            <i class="fas fa-chart-line"></i> Overview
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('products')">
                            <i class="fas fa-box"></i> Products
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('add-product')">
                            <i class="fas fa-plus-circle"></i> Add Product
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('orders')">
                            <i class="fas fa-shopping-bag"></i> Orders
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('messages')">
                            <i class="fas fa-envelope"></i> Messages
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('reviews')">
                            <i class="fas fa-star"></i> Reviews
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('analytics')">
                            <i class="fas fa-chart-bar"></i> Analytics
                        </a></li>
                        <li><a href="#" onclick="switchDashboardTab('settings')">
                            <i class="fas fa-cog"></i> Settings
                        </a></li>
                    </ul>
                </div>

                <div class="dashboard-content">
                    <div id="overviewTab">
                        <h3>Store Overview</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value">R12,450</div>
                                <div class="stat-label">Total Revenue</div>
                                <div class="stat-change change-positive">+12% from last month</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">67</div>
                                <div class="stat-label">Total Orders</div>
                                <div class="stat-change change-positive">+8% from last month</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">23</div>
                                <div class="stat-label">Products</div>
                                <div class="stat-change change-positive">+3 new</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">4.8</div>
                                <div class="stat-label">Avg Rating</div>
                                <div class="stat-change change-positive">+0.2</div>
                            </div>
                        </div>

                        <div class="dashboard-section">
                            <h3>Recent Orders</h3>
                            <div class="orders-list" id="sellerOrders">
                                <!-- Seller orders will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div id="productsTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Manage Products</h3>
                            <div class="products-grid" id="sellerProducts">
                                <!-- Seller products will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div id="add-productTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Add New Product</h3>
                            <div class="card">
                                <div class="form-group">
                                    <label for="productName">Product Name</label>
                                    <input type="text" id="productName" class="form-control" placeholder="Enter product name">
                                </div>
                                <div class="form-group">
                                    <label for="productDescription">Description</label>
                                    <textarea id="productDescription" class="form-control" rows="4" placeholder="Enter product description"></textarea>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="productPrice">Price (R)</label>
                                        <input type="number" id="productPrice" class="form-control" placeholder="Enter price">
                                    </div>
                                    <div class="form-group">
                                        <label for="productOriginalPrice">Original Price (R)</label>
                                        <input type="number" id="productOriginalPrice" class="form-control" placeholder="Enter original price">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="productCategory">Category</label>
                                        <select id="productCategory" class="form-control">
                                            <option value="">Select Category</option>
                                            <option value="1">Clothing & Shoes</option>
                                            <option value="2">Furniture & Home</option>
                                            <option value="3">Electronics</option>
                                            <option value="4">Books & Media</option>
                                            <option value="5">Sports & Outdoor</option>
                                            <option value="6">Toys & Games</option>
                                            <option value="7">Art & Collectibles</option>
                                            <option value="8">Jewelry & Watches</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="productCondition">Condition</label>
                                        <select id="productCondition" class="form-control">
                                            <option value="excellent">Excellent</option>
                                            <option value="good">Good</option>
                                            <option value="fair">Fair</option>
                                            <option value="poor">Poor</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="productSize">Size</label>
                                        <input type="text" id="productSize" class="form-control" placeholder="e.g. M, L, 42, etc.">
                                    </div>
                                    <div class="form-group">
                                        <label for="productColor">Color</label>
                                        <input type="text" id="productColor" class="form-control" placeholder="Enter color">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="productBrand">Brand</label>
                                        <input type="text" id="productBrand" class="form-control" placeholder="Enter brand">
                                    </div>
                                    <div class="form-group">
                                        <label for="productMaterial">Material</label>
                                        <input type="text" id="productMaterial" class="form-control" placeholder="Enter material">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="productStock">Stock Quantity</label>
                                    <input type="number" id="productStock" class="form-control" value="1" min="1">
                                </div>

                                <div class="form-group">
                                    <label>Product Media</label>
                                    <div class="upload-area" id="mediaUploadArea">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Drag & drop images and videos here, or click to browse</p>
                                        <p class="text-small">Supports JPG, PNG, MP4, MOV (Max 50MB each)</p>
                                    </div>
                                    <input type="file" id="mediaUploadInput" multiple accept="image/*,video/*" style="display: none;">
                                    <div class="media-preview" id="mediaPreview">
                                        <!-- Media preview will be shown here -->
                                    </div>
                                </div>

                                <button class="btn btn-success btn-block" onclick="addProduct()">
                                    <i class="fas fa-plus"></i> Add Product
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="ordersTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Manage Orders</h3>
                            <div class="orders-list" id="sellerAllOrders">
                                <!-- All seller orders will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div id="messagesTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Customer Messages</h3>
                            <div id="sellerMessages">
                                <!-- Messages will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div id="reviewsTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Product Reviews</h3>
                            <div id="sellerReviews">
                                <!-- Reviews will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <div id="analyticsTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Sales Analytics</h3>
                            <div class="card">
                                <p>Sales analytics dashboard will be displayed here with charts and graphs.</p>
                            </div>
                        </div>
                    </div>

                    <div id="settingsTab" class="hidden">
                        <div class="dashboard-section">
                            <h3>Store Settings</h3>
                            <div class="card">
                                <div class="form-group">
                                    <label for="storeName">Store Name</label>
                                    <input type="text" id="storeName" class="form-control" value="Mzansi Thrift Finds">
                                </div>
                                <div class="form-group">
                                    <label for="storeDescription">Store Description</label>
                                    <textarea id="storeDescription" class="form-control" rows="4">We offer unique pre-loved items with a South African touch.</textarea>
                                </div>
                                <div class="form-group">
                                    <label for="storeAddress">Business Address</label>
                                    <input type="text" id="storeAddress" class="form-control" value="123 Business St, Johannesburg">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="storeCity">City</label>
                                        <input type="text" id="storeCity" class="form-control" value="Johannesburg">
                                    </div>
                                    <div class="form-group">
                                        <label for="storeProvince">Province</label>
                                        <select id="storeProvince" class="form-control">
                                            <option value="Gauteng" selected>Gauteng</option>
                                            <option value="Western Cape">Western Cape</option>
                                            <option value="KwaZulu-Natal">KwaZulu-Natal</option>
                                            <option value="Eastern Cape">Eastern Cape</option>
                                            <option value="Free State">Free State</option>
                                            <option value="Limpopo">Limpopo</option>
                                            <option value="Mpumalanga">Mpumalanga</option>
                                            <option value="North West">North West</option>
                                            <option value="Northern Cape">Northern Cape</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="storePhone">Phone</label>
                                    <input type="text" id="storePhone" class="form-control" value="+27 11 123 4567">
                                </div>
                                <button class="btn btn-primary" onclick="updateStoreSettings()">Update Settings</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="footer-container">
            <div class="footer-section">
                <h3>Mzansi Thrift</h3>
                <p>South Africa's premier online thrift store for pre-loved fashion, furniture, electronics and more.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#" onclick="showPage('home')">Home</a></li>
                    <li><a href="#" onclick="showPage('products')">Products</a></li>
                    <li><a href="#" onclick="showPage('seller-dashboard')">Sell on Mzansi Thrift</a></li>
                    <li><a href="#" onclick="showPage('contact')">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Shipping Info</a></li>
                    <li><a href="#">Returns & Refunds</a></li>
                    <li><a href="#">Size Guide</a></li>
                    <li><a href="#">FAQs</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <ul class="footer-contact">
                    <li><i class="fas fa-map-marker-alt"></i> 123 Thrift Street, JHB 2000</li>
                    <li><i class="fas fa-phone"></i> +27 (0) 11 123 4567</li>
                    <li><i class="fas fa-envelope"></i> support@mzansithrift.co.za</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 Mzansi Thrift Store. All rights reserved. Proudly South African</p>
        </div>
    </div>
</footer>

<!-- Seller Login Modal -->
<div id="sellerModal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Seller Login/Register</h3>
            <button class="close-modal" onclick="closeSellerModal()">&times;</button>
        </div>
        <div class="auth-tabs">
            <button class="auth-tab active" onclick="switchSellerAuthTab('login')">Seller Login</button>
            <button class="auth-tab" onclick="switchSellerAuthTab('register')">Seller Register</button>
        </div>

        <div id="sellerLoginForm">
            <div class="form-group">
                <label for="sellerLoginEmail">Email</label>
                <input type="email" id="sellerLoginEmail" class="form-control" placeholder="mycompany@example">
            </div>
            <div class="form-group">
                <label for="sellerLoginPassword">Password</label>
                <input type="password" id="sellerLoginPassword" class="form-control" placeholder="*********">
            </div>
            <button class="btn btn-primary btn-block" onclick="seller_login()">Login as Seller</button>
        </div>

        <div id="sellerRegisterForm" class="hidden">
            <div class="form-group">
                <label for="sellerRegisterName">Store Name</label>
                <input type="text" id="sellerRegisterName" class="form-control" placeholder="my copmany">
            </div>
            <div class="form-group">
                <label for="sellerRegisterEmail">Email</label>
                <input type="email" id="sellerRegisterEmail" class="form-control" placeholder="mycompany@example">
            </div>
            <div class="form-group">
                <label for="sellerRegisterPassword">Password</label>
                <input type="password" id="sellerRegisterPassword" class="form-control" placeholder="*********">
            </div>
            <div class="form-group">
                <label for="sellerRegisterConfirmPassword">Confirm Password</label>
                <input type="password" id="sellerRegisterConfirmPassword" class="form-control" placeholder="*********">
            </div>
            <div class="form-group">
                <label for="sellerRegisterPhone">Phone</label>
                <input type="text" id="sellerRegisterPhone" class="form-control" placeholder="0000000000">
            </div>
            <button class="btn btn-primary btn-block" onclick="seller_register()">Register as Seller</button>
        </div>
    </div>
</div>

<!-- Payment Processing Modal -->
<div id="paymentModal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Processing Payment</h3>
        </div>
        <div id="paymentStatus">
            <div class="loading">
                <div class="spinner"></div>
            </div>
            <p class="text-center">Please wait while we process your payment...</p>
        </div>
    </div>
</div>

<!-- Video Player Modal -->
<div id="videoModal" class="modal hidden">
    <div class="modal-content modal-lg">
        <div class="modal-header">
            <h3 class="modal-title" id="videoModalTitle">Product Video</h3>
            <button class="close-modal" onclick="closeVideoModal()">&times;</button>
        </div>
        <div class="modal-body">
            <video id="productVideoPlayer" controls style="width: 100%;">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>
</div>

<!-- External Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.js"></script>

<!-- JavaScript -->
<script>
    // ===== APPLICATION STATE =====
    const state = {
        currentUser: null,
        currentSeller: null,
        products: [
            {
                id: 1,
                name: "Traditional Shweshwe Dress",
                price: 450.00,
                original_price: 650.00,
                category: "Clothing & Shoes",
                condition: "excellent",
                size: "M",
                color: "Blue/White",
                brand: "Da Gama Textiles",
                material: "Cotton",
                seller: "Mzansi Thrift Finds",
                images: ["/static/uploads/images/shweshwe.avif"],
                videos: [],
                description: "Beautiful traditional Shweshwe fabric dress, perfect for special occasions. Authentic South African design.",
                stock_quantity: 1,
                view_count: 124
            },
            {
                id: 2,
                name: "Vintage Springbok Jersey",
                price: 350.00,
                original_price: 500.00,
                category: "Clothing & Shoes",
                condition: "good",
                size: "L",
                color: "Green",
                brand: "Springbok",
                material: "Polyester",
                seller: "Mzansi Thrift Finds",
                images: ["/static/uploads/images/leather-jacket.avif"],
                videos: [],
                description: "Classic green Springbok rugby jersey from 1990s. Great condition with minimal wear.",
                stock_quantity: 1,
                view_count: 89
            },
            {
                id: 3,
                name: "Handcrafted Wire Art Car",
                price: 280.00,
                original_price: 350.00,
                category: "Art & Collectibles",
                condition: "excellent",
                size: "30cm",
                color: "Silver",
                brand: "Local Art",
                material: "Wire",
                seller: "Cape Vintage Collective",
                images: ["/static/uploads/images/wire-art-car.png"],
                videos: [],
                description: "Beautiful handcrafted wire art car made by local artisan. Unique South African craftsmanship.",
                stock_quantity: 3,
                view_count: 67
            },
            {
                id: 4,
                name: "Samsung Galaxy Tablet",
                price: 1200.00,
                original_price: 1800.00,
                category: "Electronics",
                condition: "good",
                size: "10 inch",
                color: "Black",
                brand: "Samsung",
                material: "Metal/Glass",
                seller: "Cape Vintage Collective",
                images: ["/static/uploads/images/samsung-tablet.avif"],
                videos: [],
                description: "Used Samsung tablet in good working condition. Includes charger and protective case.",
                stock_quantity: 1,
                view_count: 156
            },
            {
                id: 5,
                name: "Nelson Mandela Biography Set",
                price: 320.00,
                original_price: 450.00,
                category: "Books & Media",
                condition: "fair",
                size: "N/A",
                color: "Mixed",
                brand: "Various",
                material: "Paper",
                seller: "Joburg Retro Hub",
                images: ["/static/uploads/images/mandelas-biography-set.avif"],
                videos: [],
                description: "Collection of Nelson Mandela biographies and autobiographies. Historical collection.",
                stock_quantity: 2,
                view_count: 42
            },
            {
                id: 6,
                name: "Soccer Boots - Bafana Bafana",
                price: 420.00,
                original_price: 600.00,
                category: "Sports & Outdoor",
                condition: "excellent",
                size: "42",
                color: "Yellow/Green",
                brand: "Adidas",
                material: "Synthetic",
                seller: "Joburg Retro Hub",
                images: ["/static/uploads/images/nike-air.avif"],
                videos: [],
                description: "Professional soccer boots, barely used. Perfect for serious players.",
                stock_quantity: 1,
                view_count: 78
            }
        ],
        cart: [],
        orders: [],
        categories: [
            { id: 1, name: "Clothing & Shoes" },
            { id: 2, name: "Furniture & Home" },
            { id: 3, name: "Electronics" },
            { id: 4, name: "Books & Media" },
            { id: 5, name: "Sports & Outdoor" },
            { id: 6, name: "Toys & Games" },
            { id: 7, name: "Art & Collectibles" },
            { id: 8, name: "Jewelry & Watches" }
        ],
        sellers: [
            { id: 1, business_name: "Mzansi Thrift Finds", rating: 4.8 },
            { id: 2, business_name: "Cape Vintage Collective", rating: 4.6 },
            { id: 3, business_name: "Joburg Retro Hub", rating: 4.9 }
        ],
        mediaUploads: []
    };

    // ===== DOM ELEMENTS =====
    const pages = document.querySelectorAll('.page');
    const loginBtn = document.getElementById('loginBtn');
    const registerBtn = document.getElementById('registerBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const sellerBtn = document.getElementById('sellerBtn');
    const sellerDashboardLink = document.getElementById('sellerDashboardLink');
    const cartCount = document.getElementById('cartCount');
    const userName = document.getElementById('userName');
	const userDropdown = document.getElementById('.user-dropdown');
	const sellerName = document.getElementById('sellerName');
	

    // ===== INITIALIZATION =====
    function init() {
        // Check if user is logged in
        const savedUser = localStorage.getItem('currentUser');
        const savedSeller = localStorage.getItem('currentSeller');

        if (savedUser) {
            state.currentUser = JSON.parse(savedUser);
            updateAuthUI();
        }

        if (savedSeller) {
            state.currentSeller = JSON.parse(savedSeller);
            updateAuthUI();
        }

        // Load initial data
        loadFeaturedProducts();
        loadAllProducts();
        loadCategories();
        setupMediaUpload();

        // Show home page by default
        showPage('home');
    }

    // ===== PAGE NAVIGATION =====
    function showPage(pageId) {
        // Hide all pages
        pages.forEach(page => {
            page.classList.add('hidden');
        });

        // Show the requested page
        document.getElementById(pageId).classList.remove('hidden');

        // Load page-specific data
        switch(pageId) {
            case 'home':
                loadFeaturedProducts();
                break;
            case 'products':
                loadAllProducts();
                break;
            case 'cart':
                loadCart();
                break;
            case 'orders':
                loadOrders();
                break;
            case 'profile':
                loadProfile();
                break;
            case 'seller-dashboard':
                if (!state.currentSeller) {
                    showSellerModal();
                    return;
                }
                loadSellerDashboard();
                break;
        }

        // Scroll to top
        window.scrollTo(0, 0);
    }

    // ===== AUTHENTICATION FUNCTIONS =====
    function switchAuthTab(tab) {
        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');

        if (tab === 'login') {
            loginTab.classList.add('active');
            registerTab.classList.remove('active');
            loginForm.classList.remove('hidden');
            registerForm.classList.add('hidden');
        } else {
            loginTab.classList.remove('active');
            registerTab.classList.add('active');
            loginForm.classList.add('hidden');
            registerForm.classList.remove('hidden');
        }
    }

    

    // ===== SELLER AUTHENTICATION =====
    function showSellerModal() {
        document.getElementById('sellerModal').classList.remove('hidden');
    }

    function closeSellerModal() {
        document.getElementById('sellerModal').classList.add('hidden');
    }

    function switchSellerAuthTab(tab) {
        const sellerLoginForm = document.getElementById('sellerLoginForm');
        const sellerRegisterForm = document.getElementById('sellerRegisterForm');

        if (tab === 'login') {
            sellerLoginForm.classList.remove('hidden');
            sellerRegisterForm.classList.add('hidden');
        } else {
            sellerLoginForm.classList.add('hidden');
            sellerRegisterForm.classList.remove('hidden');
        }
    }

   
    // ===== PRODUCT FUNCTIONS =====
    function loadFeaturedProducts() {
        const featuredContainer = document.getElementById('featuredProducts');
        featuredContainer.innerHTML = '';

        // Show first 6 products as featured
        const featuredProducts = state.products.slice(0, 6);

        featuredProducts.forEach(product => {
            const productCard = createProductCard(product);
            featuredContainer.appendChild(productCard);
        });
    }

    function loadAllProducts() {
        const productsContainer = document.getElementById('allProducts');
        productsContainer.innerHTML = '';

        state.products.forEach(product => {
            const productCard = createProductCard(product);
            productsContainer.appendChild(productCard);
        });
    }

    function createProductCard(product) {
        const card = document.createElement('div');
        card.className = 'product-card';

        const hasVideo = product.videos && product.videos.length > 0;
        const mediaContent = hasVideo ?
            `<div class="product-media product-video-container">
                    <video class="product-video" muted>
                        <source src="${product.videos[0]}" type="video/mp4">
                    </video>
                    <div class="product-play-btn" onclick="playProductVideo('${product.videos[0]}', '${product.name}')">
                        <i class="fas fa-play"></i>
                    </div>
                </div>` :
            `<div class="product-media">
                    <img src="${product.images[0]}" alt="${product.name}" class="product-image" onerror="this.src='/static/uploads/images/no-image.png'">
                </div>`;

        card.innerHTML = `
                ${product.original_price > product.price ? `<div class="product-badge">SAVE ${Math.round((1 - product.price / product.original_price) * 100)}%</div>` : ''}
                ${mediaContent}
                <div class="product-info">
                    <div class="product-title">${product.name}</div>
                    <div class="product-price">
                        R${product.price.toFixed(2)}
                        ${product.original_price > product.price ? `<span class="product-original-price">R${product.original_price.toFixed(2)}</span>` : ''}
                    </div>
                    <div class="product-seller">Sold by: ${product.seller}</div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                        <button class="btn btn-outline btn-sm" onclick="viewProduct(${product.id})">
                            <i class="fas fa-eye"></i> View
                        </button>
                    </div>
                </div>
            `;
        return card;
    }

    function playProductVideo(videoUrl, productName) {
        const videoModal = document.getElementById('videoModal');
        const videoPlayer = document.getElementById('productVideoPlayer');
        const videoTitle = document.getElementById('videoModalTitle');

        videoPlayer.src = videoUrl;
        videoTitle.textContent = productName;
        videoModal.classList.remove('hidden');

        videoPlayer.play();
    }

    function closeVideoModal() {
        const videoModal = document.getElementById('videoModal');
        const videoPlayer = document.getElementById('productVideoPlayer');

        videoPlayer.pause();
        videoModal.classList.add('hidden');
    }

    function viewProduct(productId) {
        // In a real app, this would show a product detail page
        const product = state.products.find(p => p.id === productId);
        if (product) {
            showAlert(`Viewing product: ${product.name}`, 'success');
        }
    }

    function searchProducts() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const productsContainer = document.getElementById('allProducts');
        productsContainer.innerHTML = '';

        const filteredProducts = state.products.filter(product =>
            product.name.toLowerCase().includes(searchTerm) ||
            product.description.toLowerCase().includes(searchTerm) ||
            product.seller.toLowerCase().includes(searchTerm)
        );

        if (filteredProducts.length === 0) {
            productsContainer.innerHTML = '<p class="text-center">No products found matching your search.</p>';
            return;
        }

        filteredProducts.forEach(product => {
            const productCard = createProductCard(product);
            productsContainer.appendChild(productCard);
        });
    }

    function loadCategories() {
        const categoryContainer = document.getElementById('categoryFilters');
        categoryContainer.innerHTML = '';

        state.categories.forEach(category => {
            const categoryOption = document.createElement('div');
            categoryOption.className = 'filter-option';
            categoryOption.innerHTML = `
                    <input type="checkbox" id="category${category.id}" value="${category.id}">
                    <label for="category${category.id}">${category.name}</label>
                `;
            categoryContainer.appendChild(categoryOption);
        });
    }

    function applyFilters() {
        // Get selected categories
        const selectedCategories = [];
        state.categories.forEach(category => {
            const checkbox = document.getElementById(`category${category.id}`);
            if (checkbox.checked) {
                selectedCategories.push(category.id);
            }
        });

        // Get price range
        const priceRange = document.querySelector('input[name="price"]:checked').value;

        // Get conditions
        const selectedConditions = [];
        if (document.getElementById('conditionExcellent').checked) selectedConditions.push('excellent');
        if (document.getElementById('conditionGood').checked) selectedConditions.push('good');
        if (document.getElementById('conditionFair').checked) selectedConditions.push('fair');

        // Apply filters
        let filteredProducts = [...state.products];

        if (selectedCategories.length > 0) {
            // In a real app, this would filter by category ID
            filteredProducts = filteredProducts.filter(product =>
                selectedCategories.includes(state.categories.findIndex(c => c.name === product.category) + 1)
            );
        }

        if (priceRange !== 'all') {
            if (priceRange === '0-100') {
                filteredProducts = filteredProducts.filter(product => product.price <= 100);
            } else if (priceRange === '100-500') {
                filteredProducts = filteredProducts.filter(product => product.price > 100 && product.price <= 500);
            } else if (priceRange === '500-1000') {
                filteredProducts = filteredProducts.filter(product => product.price > 500 && product.price <= 1000);
            } else if (priceRange === '1000+') {
                filteredProducts = filteredProducts.filter(product => product.price > 1000);
            }
        }

        if (selectedConditions.length > 0) {
            filteredProducts = filteredProducts.filter(product =>
                selectedConditions.includes(product.condition)
            );
        }

        // Update the products display
        const productsContainer = document.getElementById('allProducts');
        productsContainer.innerHTML = '';

        if (filteredProducts.length === 0) {
            productsContainer.innerHTML = '<p class="text-center">No products match your filters.</p>';
            return;
        }

        filteredProducts.forEach(product => {
            const productCard = createProductCard(product);
            productsContainer.appendChild(productCard);
        });
    }

    // ===== CART FUNCTIONS =====
    function addToCart(productId) {
        if (!state.currentUser) {
            showAlert('Please login to add items to your cart', 'error');
            showPage('login');
            return;
        }

        const product = state.products.find(p => p.id === productId);
        if (!product) return;

        const existingItem = state.cart.find(item => item.productId === productId);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            state.cart.push({
                productId: productId,
                product: product,
                quantity: 1
            });
        }

        updateCartCount();
        showAlert('Product added to cart!', 'success');
    }

    function loadCart() {
        if (!state.currentUser) {
            showAlert('Please login to view your cart', 'error');
            showPage('login');
            return;
        }

        const cartContainer = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');

        cartContainer.innerHTML = '';

        if (state.cart.length === 0) {
            cartContainer.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h3>Your cart is empty</h3>
                        <p>Add some products to your cart to see them here</p>
                        <button class="btn btn-primary" onclick="showPage('products')">Continue Shopping</button>
                    </div>
                `;
            cartTotal.textContent = '0.00';
            return;
        }

        let total = 0;

        state.cart.forEach(item => {
            const itemTotal = item.product.price * item.quantity;
            total += itemTotal;

            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <img src="${item.product.images[0]}" alt="${item.product.name}" onerror="this.src='/static/uploads/images/no-image.png'">
                    </div>
                    <div class="cart-item-details">
                        <div class="cart-item-title">${item.product.name}</div>
                        <div class="cart-item-price">R${item.product.price.toFixed(2)}</div>
                        <div class="cart-item-seller">Sold by: ${item.product.seller}</div>
                    </div>
                    <div class="cart-item-actions">
                        <div class="quantity-control">
                            <button class="quantity-btn" onclick="updateQuantity(${item.productId}, -1)">
                                <i class="fas fa-minus"></i>
                            </button>
                            <input type="text" class="quantity-input" value="${item.quantity}" readonly>
                            <button class="quantity-btn" onclick="updateQuantity(${item.productId}, 1)">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <button class="btn btn-danger btn-sm" onclick="removeFromCart(${item.productId})">
                            <i class="fas fa-trash"></i> Remove
                        </button>
                    </div>
                `;
            cartContainer.appendChild(cartItem);
        });

        cartTotal.textContent = total.toFixed(2);

        // Update checkout summary
        updateCheckoutSummary();
    }

    function updateQuantity(productId, change) {
        const item = state.cart.find(item => item.productId === productId);
        if (!item) return;

        item.quantity += change;

        if (item.quantity <= 0) {
            removeFromCart(productId);
        } else {
            loadCart();
        }
    }

    function removeFromCart(productId) {
        state.cart = state.cart.filter(item => item.productId !== productId);
        loadCart();
        updateCartCount();
    }

    function clearCart() {
        if (state.cart.length === 0) return;

        if (confirm('Are you sure you want to clear your cart?')) {
            state.cart = [];
            loadCart();
            updateCartCount();
            showAlert('Cart cleared', 'success');
        }
    }

    function updateCartCount() {
        const count = state.cart.reduce((total, item) => total + item.quantity, 0);
        cartCount.textContent = count;
    }

    // ===== CHECKOUT FUNCTIONS =====
    function updateCheckoutSummary() {
        const checkoutItems = document.getElementById('checkoutItems');
        const subtotalEl = document.getElementById('checkoutSubtotal');
        const shippingEl = document.getElementById('checkoutShipping');
        const totalEl = document.getElementById('checkoutTotal');

        checkoutItems.innerHTML = '';

        if (state.cart.length === 0) {
            subtotalEl.textContent = '0.00';
            shippingEl.textContent = '0.00';
            totalEl.textContent = '0.00';
            return;
        }

        let subtotal = 0;

        state.cart.forEach(item => {
            const itemTotal = item.product.price * item.quantity;
            subtotal += itemTotal;

            const checkoutItem = document.createElement('div');
            checkoutItem.className = 'checkout-item';
            checkoutItem.innerHTML = `
                    <div class="checkout-item-details">
                        <div class="checkout-item-name">${item.product.name}</div>
                        <div class="checkout-item-quantity">Qty: ${item.quantity}</div>
                    </div>
                    <div class="checkout-item-price">R${itemTotal.toFixed(2)}</div>
                `;
            checkoutItems.appendChild(checkoutItem);
        });

        const shipping = 65.00; // Fixed shipping for demo
        const total = subtotal + shipping;

        subtotalEl.textContent = subtotal.toFixed(2);
        shippingEl.textContent = shipping.toFixed(2);
        totalEl.textContent = total.toFixed(2);
    }

    function processPayment() {
        if (!state.currentUser) {
            showAlert('Please login to complete your purchase', 'error');
            showPage('login');
            return;
        }

        if (state.cart.length === 0) {
            showAlert('Your cart is empty', 'error');
            return;
        }

        // Show payment processing modal
        document.getElementById('paymentModal').classList.remove('hidden');

        // Simulate payment processing
        setTimeout(() => {
            // For demo purposes, we'll randomly succeed or fail
            const success = Math.random() > 0.2; // 80% success rate

            if (success) {
                completeOrder();
            } else {
                document.getElementById('paymentStatus').innerHTML = `
                        <div class="alert alert-error">
                            <i class="fas fa-times-circle"></i>
                            <div>
                                <h4>Payment Failed</h4>
                                <p>Your payment could not be processed. Please try again.</p>
                            </div>
                        </div>
                        <div class="text-center mt-20">
                            <button class="btn btn-primary" onclick="retryPayment()">Retry Payment</button>
                            <button class="btn btn-outline" onclick="closePaymentModal()">Cancel</button>
                        </div>
                    `;
            }
        }, 3000);
    }

    function completeOrder() {
        // Create order
        const order = {
            id: Date.now(),
            order_number: `TS${Date.now()}`,
            date: new Date().toISOString(),
            items: [...state.cart],
            total: state.cart.reduce((total, item) => total + (item.product.price * item.quantity), 0) + 65, // Add shipping
            status: 'confirmed',
            shippingAddress: document.getElementById('shippingAddress').value
        };

        state.orders.push(order);
        state.cart = [];

        document.getElementById('paymentStatus').innerHTML = `
                <div class="alert alert-success">
                    <i class="fas fa-check-circle"></i>
                    <div>
                        <h4>Payment Successful!</h4>
                        <p>Your order has been placed successfully.</p>
                        <p><strong>Order ID:</strong> ${order.order_number}</p>
                    </div>
                </div>
                <div class="text-center mt-20">
                    <button class="btn btn-primary" onclick="closePaymentModalAndRedirect()">View Order</button>
                </div>
            `;

        updateCartCount();
    }

    function retryPayment() {
        document.getElementById('paymentStatus').innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                </div>
                <p class="text-center">Please wait while we process your payment...</p>
            `;

        setTimeout(() => {
            completeOrder();
        }, 3000);
    }

    function closePaymentModal() {
        document.getElementById('paymentModal').classList.add('hidden');
    }

    function closePaymentModalAndRedirect() {
        document.getElementById('paymentModal').classList.add('hidden');
        showPage('orders');
    }

    // ===== ORDERS FUNCTIONS =====
    function loadOrders() {
        if (!state.currentUser) {
            showAlert('Please login to view your orders', 'error');
            showPage('login');
            return;
        }

        const ordersContainer = document.getElementById('ordersList');
        ordersContainer.innerHTML = '';

        if (state.orders.length === 0) {
            ordersContainer.innerHTML = `
                    <div class="card text-center">
                        <div class="cart-empty-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <h3>No orders yet</h3>
                        <p>You haven't placed any orders yet</p>
                        <button class="btn btn-primary" onclick="showPage('products')">Start Shopping</button>
                    </div>
                `;
            return;
        }

        state.orders.forEach(order => {
            const orderCard = document.createElement('div');
            orderCard.className = 'card order-card';
            orderCard.innerHTML = `
                    <div class="order-header">
                        <div class="order-info">
                            <h3>Order #${order.order_number}</h3>
                            <div class="order-date">Placed on ${new Date(order.date).toLocaleDateString()}</div>
                        </div>
                        <div class="order-status status-${order.status}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</div>
                    </div>
                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <div class="order-item-image">
                                    <img src="${item.product.images[0]}" alt="${item.product.name}" onerror="this.src='/static/uploads/images/no-image.png'">
                                </div>
                                <div class="order-item-details">
                                    <div>${item.product.name}</div>
                                    <div>Qty: ${item.quantity} | R${item.product.price.toFixed(2)} each</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="order-total">
                        <strong>Total: R${order.total.toFixed(2)}</strong>
                    </div>
                    <div class="order-actions">
                        ${order.status === 'pending' || order.status === 'confirmed' ?
                `<button class="btn btn-danger btn-sm" onclick="cancelOrder(${order.id})">Cancel Order</button>` : ''}
                        <button class="btn btn-outline btn-sm" onclick="trackOrder(${order.id})">Track Order</button>
                    </div>
                `;
            ordersContainer.appendChild(orderCard);
        });
    }

    function cancelOrder(orderId) {
        const order = state.orders.find(o => o.id === orderId);
        if (order && (order.status === 'pending' || order.status === 'confirmed')) {
            order.status = 'cancelled';
            showAlert('Order cancelled successfully', 'success');
            loadOrders();
        }
    }

    function trackOrder(orderId) {
        // In a real app, this would show tracking information
        showAlert('Tracking information would be displayed here', 'success');
    }

    // ===== PROFILE FUNCTIONS =====
    function loadProfile() {
        if (!state.currentUser) {
            showAlert('Please login to view your profile', 'error');
            showPage('login');
            return;
        }

        document.getElementById('profileUserName').textContent = state.currentUser.name;
        document.getElementById('profileUserEmail').textContent = state.currentUser.email;
        document.getElementById('profileName').value = state.currentUser.name;
        document.getElementById('profileEmail').value = state.currentUser.email;
        document.getElementById('profilePhone').value = state.currentUser.phone;

        // Load profile orders
        const profileOrdersContainer = document.getElementById('profileOrders');
        profileOrdersContainer.innerHTML = '';

        if (state.orders.length === 0) {
            profileOrdersContainer.innerHTML = '<p>You have no orders yet.</p>';
        } else {
            const recentOrders = state.orders.slice(0, 3);

            recentOrders.forEach(order => {
                const orderItem = document.createElement('div');
                orderItem.className = 'order-item';
                orderItem.innerHTML = `
                        <div>
                            <strong>Order #${order.order_number}</strong>
                            <div>Date: ${new Date(order.date).toLocaleDateString()} | Total: R${order.total.toFixed(2)}</div>
                            <div>Status: <span class="status-${order.status}">${order.status}</span></div>
                        </div>
                    `;
                profileOrdersContainer.appendChild(orderItem);
            });
        }
    }

    function switchProfileTab(tab) {
        const tabs = ['personalInfoTab', 'addressTab', 'paymentTab', 'ordersTab', 'securityTab'];

        tabs.forEach(tabId => {
            document.getElementById(tabId).classList.add('hidden');
        });

        document.getElementById(tab + 'Tab').classList.remove('hidden');
    }

    function updateProfile() {
        const name = document.getElementById('profileName').value;
        const email = document.getElementById('profileEmail').value;

        if (name && email) {
            state.currentUser.name = name;
            state.currentUser.email = email;
            localStorage.setItem('currentUser', JSON.stringify(state.currentUser));

            document.getElementById('profileUserName').textContent = name;
            showAlert('Profile updated successfully!', 'success');
        } else {
            showAlert('Please fill in all fields', 'error');
        }
    }

    function updateAddress() {
        const address = document.getElementById('profileAddress').value;
        const city = document.getElementById('profileCity').value;
        const province = document.getElementById('profileProvince').value;
        const postalCode = document.getElementById('profilePostalCode').value;

        if (address && city && province && postalCode) {
            state.currentUser.address = `${address}, ${city}, ${province} ${postalCode}`;
            localStorage.setItem('currentUser', JSON.stringify(state.currentUser));
            showAlert('Address updated successfully!', 'success');
        } else {
            showAlert('Please fill in all fields', 'error');
        }
    }

    function changePassword() {
        const currentPassword = document.getElementById('currentPassword').value;
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;

        if (!currentPassword || !newPassword || !confirmPassword) {
            showAlert('Please fill in all fields', 'error');
            return;
        }

        if (newPassword !== confirmPassword) {
            showAlert('New passwords do not match', 'error');
            return;
        }

        // In a real app, this would verify current password and update
        showAlert('Password changed successfully!', 'success');

        // Clear fields
        document.getElementById('currentPassword').value = '';
        document.getElementById('newPassword').value = '';
        document.getElementById('confirmPassword').value = '';
    }

    // ===== SELLER DASHBOARD FUNCTIONS =====
    function loadSellerDashboard() {
        loadSellerOrders();
        loadSellerProducts();
    }

    function switchDashboardTab(tab) {
        const tabs = ['overviewTab', 'productsTab', 'add-productTab', 'ordersTab', 'messagesTab', 'reviewsTab', 'analyticsTab', 'settingsTab'];

        tabs.forEach(tabId => {
            document.getElementById(tabId).classList.add('hidden');
        });

        document.getElementById(tab + 'Tab').classList.remove('hidden');

        if (tab === 'add-product') {
            resetProductForm();
        }
    }

    function loadSellerOrders() {
        const sellerOrdersContainer = document.getElementById('sellerOrders');
        const sellerAllOrdersContainer = document.getElementById('sellerAllOrders');

        sellerOrdersContainer.innerHTML = '';
        sellerAllOrdersContainer.innerHTML = '';

        // Filter orders for this seller (in a real app, this would be based on seller ID)
        const sellerOrders = state.orders.filter(order =>
            order.items.some(item => item.product.seller === state.currentSeller.business_name)
        );

        if (sellerOrders.length === 0) {
            sellerOrdersContainer.innerHTML = '<p>No orders yet.</p>';
            sellerAllOrdersContainer.innerHTML = '<p>No orders yet.</p>';
            return;
        }

        const recentOrders = sellerOrders.slice(0, 3);

        // Display recent orders in overview
        recentOrders.forEach(order => {
            const orderCard = document.createElement('div');
            orderCard.className = 'card order-card';
            orderCard.innerHTML = `
                    <div class="order-header">
                        <div>
                            <strong>Order #${order.order_number}</strong>
                            <div>Placed on ${new Date(order.date).toLocaleDateString()}</div>
                        </div>
                        <div class="order-status status-${order.status}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</div>
                    </div>
                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <div class="order-item-image">
                                    <img src="${item.product.images[0]}" alt="${item.product.name}" onerror="this.src='/static/uploads/images/no-image.png'">
                                </div>
                                <div>
                                    <div>${item.product.name}</div>
                                    <div>Qty: ${item.quantity} | R${item.product.price.toFixed(2)} each</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="order-total">
                        <strong>Total: R${order.total.toFixed(2)}</strong>
                    </div>
                    <div class="order-actions">
                        <button class="btn btn-sm" onclick="updateOrderStatus(${order.id})">Update Status</button>
                    </div>
                `;
            sellerOrdersContainer.appendChild(orderCard);
        });

        // Display all orders in orders tab
        sellerOrders.forEach(order => {
            const orderCard = document.createElement('div');
            orderCard.className = 'card order-card';
            orderCard.innerHTML = `
                    <div class="order-header">
                        <div>
                            <strong>Order #${order.order_number}</strong>
                            <div>Placed on ${new Date(order.date).toLocaleDateString()}</div>
                        </div>
                        <div class="order-status status-${order.status}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</div>
                    </div>
                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <div class="order-item-image">
                                    <img src="${item.product.images[0]}" alt="${item.product.name}" onerror="this.src='/static/uploads/images/no-image.png'">
                                </div>
                                <div>
                                    <div>${item.product.name}</div>
                                    <div>Qty: ${item.quantity} | R${item.product.price.toFixed(2)} each</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="order-total">
                        <strong>Total: R${order.total.toFixed(2)}</strong>
                    </div>
                    <div class="order-actions">
                        <button class="btn btn-sm" onclick="updateOrderStatus(${order.id})">Update Status</button>
                    </div>
                `;
            sellerAllOrdersContainer.appendChild(orderCard);
        });
    }

    function loadSellerProducts() {
        const sellerProductsContainer = document.getElementById('sellerProducts');
        sellerProductsContainer.innerHTML = '';

        // Filter products for this seller (in a real app, this would be based on seller ID)
        const sellerProducts = state.products.filter(product =>
            product.seller === state.currentSeller.business_name
        );

        if (sellerProducts.length === 0) {
            sellerProductsContainer.innerHTML = '<p>No products yet. Add your first product!</p>';
            return;
        }

        sellerProducts.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            productCard.innerHTML = `
                    <div class="product-media">
                        <img src="${product.images[0]}" alt="${product.name}" class="product-image" onerror="this.src='/static/uploads/images/no-image.png'">
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-price">R${product.price.toFixed(2)}</div>
                        <div class="product-actions">
                            <button class="btn btn-sm" onclick="editProduct(${product.id})">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="btn btn-danger btn-sm" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> Delete
                            </button>
							<label>
                                <input type="checkbox" name="featured" value="1"> Feature this product
                            </label>
                        </div>
                    </div>
                `;
            sellerProductsContainer.appendChild(productCard);
        });
    }

    function setupMediaUpload() {
        const uploadArea = document.getElementById('mediaUploadArea');
        const fileInput = document.getElementById('mediaUploadInput');
        const mediaPreview = document.getElementById('mediaPreview');

        uploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = 'var(--secondary)';
            uploadArea.style.backgroundColor = 'rgba(231, 76, 60, 0.05)';
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.borderColor = 'var(--border)';
            uploadArea.style.backgroundColor = 'transparent';
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = 'var(--border)';
            uploadArea.style.backgroundColor = 'transparent';

            const files = e.dataTransfer.files;
            handleMediaFiles(files);
        });

        fileInput.addEventListener('change', (e) => {
            const files = e.target.files;
            handleMediaFiles(files);
        });
    }

    function handleMediaFiles(files) {
        const mediaPreview = document.getElementById('mediaPreview');

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const fileType = file.type.split('/')[0];

            if (fileType !== 'image' && fileType !== 'video') {
                showAlert('Only image and video files are allowed', 'error');
                continue;
            }

            if (file.size > 50 * 1024 * 1024) { // 50MB limit
                showAlert('File size must be less than 50MB', 'error');
                continue;
            }

            const reader = new FileReader();

            reader.onload = (e) => {
                const mediaItem = document.createElement('div');
                mediaItem.className = 'media-preview-item';

                if (fileType === 'image') {
                    mediaItem.innerHTML = `
                            <img src="${e.target.result}" alt="Preview">
                            <div class="media-preview-remove" onclick="removeMediaItem(this)">
                                <i class="fas fa-times"></i>
                            </div>
                        `;
                } else {
                    mediaItem.innerHTML = `
                            <video src="${e.target.result}" muted></video>
                            <div class="media-preview-remove" onclick="removeMediaItem(this)">
                                <i class="fas fa-times"></i>
                            </div>
                        `;
                }

                mediaPreview.appendChild(mediaItem);

                // Store file data for upload
                state.mediaUploads.push({
                    type: fileType,
                    data: e.target.result,
                    file: file
                });
            };

            if (fileType === 'image') {
                reader.readAsDataURL(file);
            } else {
                reader.readAsDataURL(file);
            }
        }
    }

    function removeMediaItem(element) {
        const mediaItem = element.parentElement;
        const index = Array.from(mediaItem.parentElement.children).indexOf(mediaItem);

        state.mediaUploads.splice(index, 1);
        mediaItem.remove();
    }

    function resetProductForm() {
        document.getElementById('productName').value = '';
        document.getElementById('productDescription').value = '';
        document.getElementById('productPrice').value = '';
        document.getElementById('productOriginalPrice').value = '';
        document.getElementById('productCategory').value = '';
        document.getElementById('productCondition').value = 'excellent';
        document.getElementById('productSize').value = '';
        document.getElementById('productColor').value = '';
        document.getElementById('productBrand').value = '';
        document.getElementById('productMaterial').value = '';
        document.getElementById('productStock').value = '1';

        // Clear media previews
        document.getElementById('mediaPreview').innerHTML = '';
        state.mediaUploads = [];
    }

    function addProduct() {
        const name = document.getElementById('productName').value;
        const description = document.getElementById('productDescription').value;
        const price = parseFloat(document.getElementById('productPrice').value);
        const originalPrice = parseFloat(document.getElementById('productOriginalPrice').value) || price;
        const categoryId = parseInt(document.getElementById('productCategory').value);
        const condition = document.getElementById('productCondition').value;
        const size = document.getElementById('productSize').value;
        const color = document.getElementById('productColor').value;
        const brand = document.getElementById('productBrand').value;
        const material = document.getElementById('productMaterial').value;
        const stock = parseInt(document.getElementById('productStock').value) || 1;

        if (!name || !description || !price || !categoryId) {
            showAlert('Please fill in all required fields', 'error');
            return;
        }

        if (state.mediaUploads.length === 0) {
            showAlert('Please add at least one image or video', 'error');
            return;
        }

        const category = state.categories.find(c => c.id === categoryId);

        // Separate images and videos
        const images = state.mediaUploads
            .filter(media => media.type === 'image')
            .map(media => media.data);

        const videos = state.mediaUploads
            .filter(media => media.type === 'video')
            .map(media => media.data);

        const newProduct = {
            id: Date.now(),
            name: name,
            description: description,
            price: price,
            original_price: originalPrice,
            category: category.name,
            condition: condition,
            size: size,
            color: color,
            brand: brand,
            material: material,
            seller: state.currentSeller.business_name,
            images: images,
            videos: videos,
            stock_quantity: stock,
            view_count: 0
        };

        state.products.push(newProduct);
        resetProductForm();

        showAlert('Product added successfully!', 'success');
        switchDashboardTab('products');
        loadSellerProducts();
    }

    function editProduct(productId) {
        // In a real app, this would open an edit form
        showAlert('Edit product functionality would open here', 'success');
    }

    function deleteProduct(productId) {
        if (confirm('Are you sure you want to delete this product?')) {
            state.products = state.products.filter(product => product.id !== productId);
            loadSellerProducts();
            showAlert('Product deleted successfully!', 'success');
        }
    }

    function updateOrderStatus(orderId) {
        const order = state.orders.find(o => o.id === orderId);
        if (order) {
            const newStatus = prompt('Enter new status (pending, confirmed, shipped, delivered, cancelled):', order.status);
            if (newStatus && ['pending', 'confirmed', 'shipped', 'delivered', 'cancelled'].includes(newStatus)) {
                order.status = newStatus;
                loadSellerOrders();
                showAlert('Order status updated successfully!', 'success');
            }
        }
    }

    function updateStoreSettings() {
        // In a real app, this would update seller settings
        showAlert('Store settings updated successfully!', 'success');
    }

    // ===== CONTACT FUNCTIONS =====
    function sendMessage() {
        const name = document.getElementById('contactName').value;
        const email = document.getElementById('contactEmail').value;
        const subject = document.getElementById('contactSubject').value;
        const message = document.getElementById('contactMessage').value;

        if (!name || !email || !subject || !message) {
            showAlert('Please fill in all fields', 'error');
            return;
        }

        // In a real app, this would send the message to a server
        showAlert('Thank you for your message! We will get back to you soon.', 'success');

        // Clear the form
        document.getElementById('contactName').value = '';
        document.getElementById('contactEmail').value = '';
        document.getElementById('contactSubject').value = '';
        document.getElementById('contactMessage').value = '';
    }

    // ===== UTILITY FUNCTIONS =====
    function showAlert(message, type) {
        // Create alert element
        const alert = document.createElement('div');
        alert.className = `alert alert-${type}`;
        alert.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <div>${message}</div>
            `;

        // Add to page
        const container = document.querySelector('.container');
        container.insertBefore(alert, container.firstChild);

        // Remove after 5 seconds
        setTimeout(() => {
            alert.remove();
        }, 5000);
    }

    // ===== PAYMENT METHOD SELECTION =====
    document.addEventListener('DOMContentLoaded', function() {
        const paymentMethods = document.querySelectorAll('.payment-method');

        paymentMethods.forEach(method => {
            method.addEventListener('click', function() {
                // Remove active class from all methods
                paymentMethods.forEach(m => m.classList.remove('active'));

                // Add active class to clicked method
                this.classList.add('active');
            });
        });
    });

    // ===== INITIALIZE APPLICATION =====
    window.onload = init;
</script>

<script src="{{ url_for('static', filename='backend-connector.js') }}"></script>
<!--script src="{{ url_for('static', filename='app.js') }}"></script--!>

</body>
</html>